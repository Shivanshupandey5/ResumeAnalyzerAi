import{w as u,x as f,a as i,p as e}from"./chunk-EPOLDU6W-CHk03_CN.js";import{u as h}from"./puter-sYsshA0E.js";const m=()=>{const{auth:c,isLoading:t,error:a,clearError:j,fs:r,ai:v,kv:l}=h(),d=f(),[n,p]=i.useState([]),o=async()=>{const s=await r.readDir("./");p(s)};i.useEffect(()=>{o()},[]),i.useEffect(()=>{!t&&!c.isAuthenticated&&d("/auth?next=/wipe")},[t]);const x=async()=>{n.forEach(async s=>{await r.delete(s.path)}),await l.flush(),o()};return t?e.jsx("div",{children:"Loading..."}):a?e.jsxs("div",{children:["Error ",a]}):e.jsxs("div",{children:[e.jsx("div",{children:"Existing files:"}),e.jsx("div",{className:"flex flex-col gap-4",children:n.map(s=>e.jsx("div",{className:"flex flex-row gap-4",children:e.jsx("p",{children:s.name})},s.id))}),e.jsx("div",{children:e.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-md cursor-pointer",onClick:()=>x(),children:"Wipe App Data"})})]})},E=u(m);export{E as default};
