import{p as e,a as n,v as u,w as h,x as j}from"./chunk-EPOLDU6W-CHk03_CN.js";import{N as p}from"./Navbar-4QJ2GQS3.js";import{u as x}from"./puter-sYsshA0E.js";const g=({score:c=75})=>{const s=2*Math.PI*36,t=c/100,a=s*(1-t);return e.jsxs("div",{className:"relative w-[100px] h-[100px]",children:[e.jsxs("svg",{height:"100%",width:"100%",viewBox:"0 0 100 100",className:"transform -rotate-90",children:[e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#e5e7eb",strokeWidth:8,fill:"transparent"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"grad",x1:"1",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#FF97AD"}),e.jsx("stop",{offset:"100%",stopColor:"#5171FF"})]})}),e.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"url(#grad)",strokeWidth:8,fill:"transparent",strokeDasharray:s,strokeDashoffset:a,strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"font-semibold text-sm",children:`${c}/100`})})]})},N=({resume:{id:c,companyName:l,jobTitle:r,feedback:o,imagePath:s}})=>{const{fs:t}=x(),[a,i]=n.useState("");return n.useEffect(()=>{(async()=>{const d=await t.read(s);if(!d)return;let f=URL.createObjectURL(d);i(f)})()},[s]),e.jsxs(u,{to:`/resume/${c}`,className:"resume-card animate-in fade-in duration-1000",children:[e.jsxs("div",{className:"resume-card-header",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[l&&e.jsx("h2",{className:"!text-black font-bold break-words",children:l}),r&&e.jsx("h3",{className:"text-lg break-words text-gray-500",children:r}),!l&&!r&&e.jsx("h2",{className:"!text-black font-bold",children:"Resume"})]}),e.jsx("div",{className:"flex-shrink-0",children:e.jsx(g,{score:o.overallScore})})]}),a&&e.jsx("div",{className:"gradient-border animate-in fade-in duration-1000",children:e.jsx("div",{className:"w-full h-full",children:e.jsx("img",{src:a,alt:"resume",className:"w-full h-[350px] max-sm:h-[200px] object-cover object-top"})})})]})};function k({}){return[{title:"Resumind"},{name:"description",content:"Smart feedback for your dream job!"}]}const w=h(function(){const{kv:l}=x();j();const[r,o]=n.useState([]),[s,t]=n.useState(!1);return n.useEffect(()=>{(async()=>{t(!0);const i=await l.list("resume:",!0);if(!i||i.length===0){o([]),t(!1);return}const m=i.map(d=>{try{return JSON.parse(d.value)}catch{return null}}).filter(Boolean);console.log("ParsedResumes:",m),o(m),t(!1)})()},[]),e.jsxs("main",{className:"bg-[url('/images/bg-main.svg')] bg-cover",children:[e.jsx(p,{}),e.jsxs("section",{className:"main-section",children:[e.jsxs("div",{className:"page-heading py-16",children:[e.jsx("h1",{children:"Track Your Applications & Resume Ratings"}),!s&&r?.length===0?e.jsx("h2",{children:"No resume found. Upload your first resume to get feedback."}):e.jsx("h2",{children:"Review your submissions and check AI-powered feedback."})]}),s&&e.jsx("div",{className:"flex flex-col items-center justify-center",children:e.jsx("img",{src:"/images/resume-scan-2.gif",className:"w-[200px]"})}),!s&&r.length>0&&e.jsx("div",{className:"resume-section grid grid-cols-2 gap-6 max-lg:grid-cols max-sm:grid-cols-1",children:r.map(a=>e.jsx(N,{resume:a},a.id))}),!s&&r?.length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center mt-10 gap-4",children:e.jsx(u,{to:"/upload",className:"primary-button w-fit text-xl font-semibold",children:"Upload Resume"})})]})]})});export{w as default,k as meta};
